<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Range Picker Example</title>
  <script src='./rangepicker.js'></script>
  <link rel="stylesheet" href="./rangepicker.css">
</head>

<body>
  <div id="RangesContainer"></div>
  <div id="InfoBox">

  </div>
</body>

</html>

<script>
  const container = document.getElementById("RangesContainer");
  const infoBox = document.getElementById("InfoBox");

  const timePickers = [];

  const values = [
    [{ fromTime: 200, toTime: 600 }],
    [],
    [],
    [],
    [{ fromTime: 770, toTime: 990 }],
    [],
    [],
  ]

  const days = [
    "Monday",
    "Tuesday",
    "Wednesday",
    "Thursday",
    "Friday",
    "Saturday",
    "Sunday"
  ];

  function handleValueUpdate(newRanges) {
    values[index] = newRanges;
  }

  days.forEach((day, index) => {
    const timepicker = new RangePicker.RangePicker();
    timepicker.init(container, day, values[index], function (newRanges) {
      values[index] = newRanges;
    });
    handleOtherStuff(timepicker);
  })

  function handleOtherStuff(timePicker) {
    timePickers.push(timePicker);
    const infoRow = document.createElement("div");
    infoRow.innerHTML = `<button onclick="timePickers[${timePickers.length - 1}].toggleReadOnly();">Toggle read-only for ${timePicker.label}</button`
    infoBox.appendChild(infoRow)
  }



</script>